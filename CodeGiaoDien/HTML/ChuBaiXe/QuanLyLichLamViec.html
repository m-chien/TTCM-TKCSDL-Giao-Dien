<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Quản lý Lịch Làm Việc</title>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#10B981", // Màu xanh lá cây (Chính)
                        secondary: "#0D6EFD", // Màu xanh dương (Phụ/Hành động)
                        "background-light": "#F8F9FA",
                        "background-dark": "#121212",
                        "surface-light": "#FFFFFF",
                        "surface-dark": "#1F2937",
                        "text-light-primary": "#212529",
                        "text-light-secondary": "#6C757D",
                        "text-dark-primary": "#F3F4F6",
                        "text-dark-secondary": "#9CA3AF",
                        "border-light": "#E5E7EB",
                        "border-dark": "#374151",
                        "status-success": "#10B981", // Hoàn thành
                        "status-warning": "#FBBF24", // Đang thực hiện
                        "status-danger": "#F87171", // Đã kết thúc
                        "status-info": "#60A5FA", // Tạm ngưng
                    },
                    fontFamily: {
                        display: ["Be Vietnam Pro", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.4rem",
                        lg: "0.6rem",
                        xl: "0.75rem",
                    },
                    boxShadow: {
                        'custom': '0 2px 4px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.03)',
                        'modal': '0 8px 10px -3px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)',
                    }
                },
            },
        };
        function toggleParkingMenu() {
            const submenu = document.getElementById("parkingSubmenu");
            const arrow = document.getElementById("arrowParking");

            submenu.classList.toggle("hidden");
            arrow.classList.toggle("rotate-180");
        }
    </script>
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 0.875rem;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 20;
            vertical-align: middle;
        }

        /* Tùy chỉnh thanh cuộn cho chế độ tối */
        .overflow-y-scroll-custom::-webkit-scrollbar {
            width: 6px;
        }

        .overflow-y-scroll-custom::-webkit-scrollbar-thumb {
            background-color: #4B5563;
            border-radius: 3px;
        }

        .overflow-y-scroll-custom::-webkit-scrollbar-track {
            background: #374151;
        }

        /* Tùy chỉnh cho chế độ sáng */
        :root:not(.dark) .overflow-y-scroll-custom::-webkit-scrollbar-thumb {
            background-color: #D1D5DB;
        }

        :root:not(.dark) .overflow-y-scroll-custom::-webkit-scrollbar-track {
            background: #F3F4F6;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-sm">
    <div class="flex h-screen">
        <aside
            class="flex w-64 flex-col border-r border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark">
            <div class="flex h-full flex-col justify-between p-4">
                <div class="flex flex-col gap-6">
                    <div class="flex items-center gap-3 px-2">
                        <div class="flex items-center justify-center rounded-lg bg-primary/20 p-2 text-primary">
                            <span class="material-symbols-outlined text-2xl">local_parking</span>
                        </div>
                        <h1 class="text-lg font-bold">Parking Admin</h1>
                    </div>
                    <nav class="flex flex-col gap-2">
                        <a class="flex items-center gap-3 rounded-lg  px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="#">
                            <span class="material-symbols-outlined">dashboard</span>
                            <p class="text-sm font-semibold">Tổng quan</p>
                        </a>
                        <!-- MENU CHA: Quản lý bãi xe -->
                        <div class="flex flex-col">
                            <button onclick="toggleParkingMenu()"
                                class="flex items-center gap-3 rounded-lg px-3 py-2.5  hover:bg-primary/10 dark:hover:bg-primary/20">
                                <div class="flex items-center gap-3">
                                    <span class="material-symbols-outlined">garage</span>
                                    <p class="text-sm font-medium">Quản lý bãi xe</p>
                                </div>
                                <span id="arrowParking"
                                    class="material-symbols-outlined transition-transform">expand_more</span>
                            </button>

                            <!-- MENU CON -->
                            <div id="parkingSubmenu" class="ml-10 mt-1 flex flex-col gap-1 hidden">
                                <a class="flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-primary/10 dark:hover:bg-primary/20"
                                    href="CapNhatBaiXe.html">
                                    <span class="material-symbols-outlined text-base">local_offer</span>
                                    Quản lý bãi xe
                                </a>
                                <a class="flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-primary/10 dark:hover:bg-primary/20"
                                    href="CapNhapGia.html">
                                    <span class="material-symbols-outlined text-base">paid</span>
                                    Quản lý giá
                                </a>

                                <a class="flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-primary/10 dark:hover:bg-primary/20"
                                    href="CapNhatMaGiamGia.html">
                                    <span class="material-symbols-outlined text-base">local_offer</span>
                                    Quản lý khuyến mãi
                                </a>

                                <a class="flex items-center gap-3 rounded-lg px-3 py-2 text-sm hover:bg-primary/10 dark:hover:bg-primary/20"
                                    href="QuanLyTheThang.html">
                                    <span class="material-symbols-outlined text-base">local_offer</span>
                                    Quản lý thẻ xe tháng
                                </a>
                            </div>
                        </div>

                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./QuanLyNhanVien.html">
                            <span class="material-symbols-outlined">groups</span>
                            <p class="text-sm font-medium">Quản lý nhân viên</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5  hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./QuanLyCaLam.html">
                            <span class="material-symbols-outlined">shift</span>
                            <p class="text-sm font-medium">Quản lý ca làm</p>
                        </a>
                        <a class="flex items-center gap-3 px-4 py-2.5 rounded text-primary bg-primary/10 transition-colors "
                            href="./QuanLyKhuVuc_ChoDau.html">
                            <span class="material-symbols-outlined">calendar_month</span>
                            <p class="text-sm font-medium">Lịch làm việc</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-4 py-2.5  dark:text-heading-dark hover:bg-gray-100 dark:hover:bg-gray-700  "
                            href="./QuanLyKhuVuc_ChoDau.html">
                            <span class="material-symbols-outlined">list</span>
                            <p class="text-sm font-medium">Danh mục chỗ đậu</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./ThongKe.html">
                            <span class="material-symbols-outlined">assessment</span>
                            <p class="text-sm font-medium">Thống kê</p>
                        </a>
                         <a class="flex items-center gap-3 px-4 py-2.5 rounded text-heading-light dark:text-heading-dark 
                  hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
                        href="QuanLySuCo.html">
                        <span class="material-icons-outlined text-lg">bar_chart</span>
                        <span class="font-bold">Quản lý sự cố</span>
                    </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="#">
                            <span class="material-symbols-outlined">settings</span>
                            <p class="text-sm font-medium">Cài đặt</p>
                        </a>
                    </nav>
                </div>
                <div class="flex flex-col gap-1 border-t border-border-light dark:border-border-dark pt-4">
                    <div class="flex items-center gap-3 px-3 py-2">
                        <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
                            data-alt="Admin user avatar"
                            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDSBl77xDRyzdEmA1bqOR8us366h5umMmXmkFUxgpDrNq39j6NpuXlHVoGetK8-SZzQGlIuLxy8mqr7ki1JETuzLoOeljk18F04cc8-qVotv6ZxMn3nuchnPXz1WSbP5r_XBVVIPMh5J0OJYuSuLcT2_ugU5YHbXoAj3wU7oqY0G0P7YWEOWrRN7HsvX3PwcdYQwOu3AEMDQTsWfryfJOwRehe3z7dZKlO0S2EUzKzEouKb9NB73NvcSyWWOv44oFnxK88CgSonrnuT");'>
                        </div>
                        <div class="flex flex-col">
                            <p class="text-sm font-semibold">Admin</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">admin@email.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
        <div class="flex-1 flex flex-col">
            <header
                class="h-14 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-end px-4 shadow-sm z-10">
                <div class="flex items-center space-x-3">
                    <button
                        class="p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-text-light-secondary dark:text-text-dark-secondary transition-colors">
                        <span class="material-symbols-outlined text-xl">search</span>
                    </button>
                    <div class="h-5 border-l border-border-light dark:border-border-dark"></div>
                    <button
                        class="relative p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-text-light-secondary dark:text-text-dark-secondary transition-colors">
                        <span class="material-symbols-outlined text-xl">notifications</span>
                        <span
                            class="absolute top-0.5 right-0.5 block h-2 w-2 rounded-full bg-red-500 ring-1 ring-surface-light dark:ring-surface-dark"></span>
                    </button>
                    <div
                        class="flex items-center space-x-1 cursor-pointer p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                        <img alt="Avatar of TinhBaiXe" class="h-8 w-8 rounded-full object-cover"
                            src="https://lh3.googleusercontent.com/aida-public/AB6AXuBc21mxH26fv-wDdQf5VeCcF3UZ5ikPIOoWb1o0C9w-SGZbzBHX7rodtGeIldrS6ftygPxH6W_WuCDvHGyI-D4Ey-aVOHanWhvfEY7i66ZrgN-1fc10ezaoikzhC3ytmq_RK1PJBwDmGzf8_f2zIney0UU5Rf7RFr2rLI9IyK5YTZeftVL_pHumxGOrJCkrQNIgNlJ7boVtG1Qnw_4cUuEvRbZdKMEbwrbCX-knD4WwU4RDcX6B8oI10hrvJggp63NZjIgmrF5mj4Y" />
                        <div>
                            <p class="font-semibold text-xs text-text-light-primary dark:text-text-dark-primary">
                                TinhBaiXe</p>
                            <p class="text-[0.65rem] text-text-light-secondary dark:text-text-dark-secondary">Chủ bãi xe
                            </p>
                        </div>
                        <span class="material-symbols-outlined text-sm ml-1">expand_more</span>
                    </div>
                </div>
            </header>

            <main class="flex-1 p-4 overflow-y-auto relative">
                <div class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-custom h-full flex flex-col">
                    <div
                        class="flex justify-between items-center mb-5 border-b border-border-light dark:border-border-dark pb-4">
                        <h2
                            class="text-2xl font-bold text-text-light-primary dark:text-text-dark-primary flex items-center">
                            <span class="material-symbols-outlined mr-2 text-2xl text-secondary">calendar_today</span>
                            Quản lý Lịch Làm Việc
                        </h2>
                        <button id="openScheduleModalBtn"
                            class="bg-secondary text-white py-2.5 px-4 rounded-lg flex items-center justify-center font-semibold hover:bg-blue-600 transition-colors shadow-md text-sm">
                            <span class="material-symbols-outlined mr-2 text-base">person_add</span>
                            Thêm Lịch Làm Việc
                        </button>
                    </div>

                    <div class="flex flex-wrap gap-4 mb-4">
                        <input type="date"
                            class="px-3 py-1.5 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary text-sm"
                            placeholder="Lọc theo Ngày">
                        <select
                            class="px-3 py-1.5 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary text-sm">
                            <option value="">Lọc theo Bãi Đỗ</option>
                            <option value="A">Bãi đỗ QT - Tầng hầm</option>
                            <option value="B1">Bãi đỗ MC - Xếp tầng</option>
                            <option value="C">Bãi đồ CH - Ngoài trời</option>
                        </select>
                        <select
                            class="px-3 py-1.5 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary text-sm">
                            <option value="">Lọc theo Trạng Thái</option>
                            <option value="HoanThanh">Hoàn thành</option>
                            <option value="DangLam">Đang áp dụng</option>
                            <option value="SapToi">Tạm ngưng</option>
                            <option value="VangMat">Đã kết thúc</option>
                        </select>
                        <button
                            class="bg-primary text-white py-1.5 px-4 rounded-lg flex items-center hover:bg-green-600 transition-colors text-sm">
                            <span class="material-symbols-outlined mr-1.5 text-base">filter_alt</span> Lọc
                        </button>
                    </div>

                    <div class="flex-1 overflow-auto overflow-y-scroll-custom">
                        <table class="min-w-full divide-y divide-border-light dark:divide-border-dark">
                            <thead class="bg-background-light dark:bg-surface-dark/50 sticky top-0 shadow-sm">
                                <tr>
                                     <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Tên nhân viên</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Chức vụ</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Ngày bắt đầu</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Ngày kết thúc</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Ca Làm</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Bãi Đỗ</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Số Ngày Đã Làm</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Trạng Thái</th>
                                    <th class="px-4 py-2"></th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-border-light dark:divide-border-dark">
                                <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">Nguyễn Văn A</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Trưởng ca</td>

                                    <td class="px-4 py-3 whitespace-nowrap text-sm">10/11/2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">10/12/2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Ca Sáng (7:00-11:00)</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Bãi đỗ QT</td>
                                    <td
                                        class="px-4 py-3 whitespace-nowrap text-sm  text-text-light-primary dark:text-text-dark-primary">
                                        30/30 Ngày
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-status-success/20 text-status-success">
                                            Hoàn thành
                                        </span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                    </td>
                                </tr>
                                <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">Nguyễn Văn B</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm ">Phó ca</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">10/12/2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">10/01/2026</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Ca Chiều (13:00-17:00)</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Bãi đỗ MC</td>
                                    <td
                                        class="px-4 py-3 whitespace-nowrap text-sm  text-text-light-primary dark:text-text-dark-primary">
                                        27/30 Ngày
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-status-warning/20 text-status-warning">
                                            Đang thực hiện
                                        </span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                    </td>
                                </tr>
                                <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">Phạm Văn C</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Nhân viên bãi</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">11/12/2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">11/01/2026</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Ca Tối (17:00-22:00)</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Bãi đồ CH</td>
                                    <td
                                        class="px-4 py-3 whitespace-nowrap text-sm text-text-light-primary dark:text-text-dark-primary">
                                        29/30 Ngày
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-status-info/20 text-status-info">
                                            Tạm ngưng
                                        </span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                    </td>
                                </tr>
                                <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">Lê Thị D</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Nhân viên bãi</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">09/12/2025</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">09/01/2026</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Ca Sáng (7:00-11:00)</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">Bãi đỗ QT</td>
                                    <td
                                        class="px-4 py-3 whitespace-nowrap text-sm  text-text-light-primary dark:text-text-dark-primary">
                                        28/30 Ngày
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-status-danger/20 text-status-danger">
                                            Đã kết thúc
                                        </span>
                                    </td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="scheduleModal"
                    class="hidden fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 z-50 flex items-center justify-center p-4">
                    <div
                        class="bg-surface-light dark:bg-surface-dark w-full max-w-xl rounded-xl shadow-modal overflow-hidden transform transition-all duration-300">
                        <div
                            class="p-5 border-b border-border-light dark:border-border-dark flex justify-between items-center">
                            <h3 id="scheduleModalTitle"
                                class="text-xl font-bold text-text-light-primary dark:text-text-dark-primary flex items-center">
                                <span
                                    class="material-symbols-outlined mr-2 text-2xl text-secondary">calendar_add_on</span>
                                Phân Công Lịch Làm Việc
                            </h3>
                            <button id="closeScheduleModalBtn"
                                class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-text-light-secondary dark:text-text-dark-secondary">
                                <span class="material-symbols-outlined">close</span>
                            </button>
                        </div>

                        <form class="p-6 space-y-5">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="employeeSelect"
                                        class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Nhân
                                        Viên <span class="text-red-500">*</span></label>
                                    <select id="employeeSelect" name="IDNhanVien"
                                        class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-secondary focus:ring-secondary transition-colors"
                                        required>
                                        <option value="">-- Chọn Nhân Viên --</option>
                                        <option value="1">Nguyễn Văn A (Trưởng ca)</option>
                                        <option value="2">Nguyễn Văn B (Phó ca)</option>
                                        <option value="3">Phạm Văn C (Nhân viên bãi)</option>
                                    </select>
                                </div>

                                <div>
                                    <label for="shiftSelect"
                                        class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Ca
                                        Làm Mặc Định <span class="text-red-500">*</span></label>
                                    <select id="shiftSelect" name="IDCaLam"
                                        class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-secondary focus:ring-secondary transition-colors"
                                        required>
                                        <option value="">-- Chọn Ca Làm --</option>
                                        <option value="1">Ca Sáng (07:00 - 11:00)</option>
                                    </select>
                                </div>
                            </div>

                            <div>
                                <label for="parkingSelect"
                                    class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Bãi
                                    Đỗ Giao Ca <span class="text-red-500">*</span></label>
                                <select id="parkingSelect" name="IDBaiDo"
                                    class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-secondary focus:ring-secondary transition-colors"
                                    required>
                                    <option value="">-- Chọn Bãi Đỗ --</option>
                                    <option value="1">Bãi đỗ QT - Tầng hầm</option>
                                </select>
                            </div>

                            <div
                                class="border border-border-light dark:border-border-dark p-4 rounded-lg bg-background-light dark:bg-surface-dark/50 space-y-3">
                                <h4 class="text-base font-semibold text-secondary flex items-center">
                                    <span class="material-symbols-outlined mr-2 text-xl">date_range</span>
                                    Phạm Vi Áp Dụng
                                </h4>

                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label for="startDate"
                                            class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Ngày
                                            Bắt Đầu <span class="text-red-500">*</span></label>
                                        <input type="date" id="startDate" name="NgayBatDau"
                                            class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-surface-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-primary focus:ring-primary transition-colors"
                                            required>
                                    </div>
                                    <div>
                                        <label for="endDate"
                                            class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Ngày
                                            Kết Thúc <span class="text-red-500">*</span></label>
                                        <input type="date" id="endDate" name="NgayKetThuc"
                                            class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-surface-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-primary focus:ring-primary transition-colors"
                                            required>
                                    </div>
                                </div>

                                <!-- <div class="space-y-2 pt-2">
                                    <label class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary">Chọn
                                        các **Thứ** có Ca Làm</label>
                                    <div class="flex flex-wrap gap-2">
                                        <button type="button" data-day="2"
                                            class="day-toggle px-3 py-1 rounded-full border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 hover:bg-secondary hover:text-white transition-colors text-sm">T2</button>
                                        <button type="button" data-day="3"
                                            class="day-toggle px-3 py-1 rounded-full border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 hover:bg-secondary hover:text-white transition-colors text-sm">T3</button>
                                        <button type="button" data-day="4"
                                            class="day-toggle px-3 py-1 rounded-full border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 hover:bg-secondary hover:text-white transition-colors text-sm">T4</button>
                                        <button type="button" data-day="5"
                                            class="day-toggle px-3 py-1 rounded-full border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 hover:bg-secondary hover:text-white transition-colors text-sm">T5</button>
                                        <button type="button" data-day="6"
                                            class="day-toggle px-3 py-1 rounded-full border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 hover:bg-secondary hover:text-white transition-colors text-sm">T6</button>
                                        <button type="button" data-day="7"
                                            class="day-toggle px-3 py-1 rounded-full border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 hover:bg-secondary hover:text-white transition-colors text-sm">T7</button>
                                        <button type="button" data-day="1"
                                            class="day-toggle px-3 py-1 rounded-full border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark/50 hover:bg-secondary hover:text-white transition-colors text-sm">CN</button>
                                    </div>
                                    <input type="hidden" id="selectedDays" name="GiaTriLapLai" value="">
                                </div> -->
                            </div>

                            <div>
                                <label for="scheduleStatus"
                                    class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Trạng
                                    Thái Phân Công</label>
                                <select id="scheduleStatus" name="TrangThai"
                                    class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-secondary focus:ring-secondary transition-colors"
                                    required>
                                    <option value="DangApDung" selected>Đang áp dụng</option>
                                    <option value="TamNgung">Tạm ngưng</option>
                                    <option value="KetThuc">Đã kết thúc</option>
                                </select>
                            </div>

                        </form>

                        <div
                            class="p-5 border-t border-border-light dark:border-border-dark bg-background-light dark:bg-surface-dark/50 flex justify-end space-x-3">
                            <button id="cancelScheduleModalBtn"
                                class="px-5 py-2 rounded-lg text-text-light-secondary dark:text-text-dark-secondary hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors font-medium">
                                Hủy
                            </button>
                            <button id="saveScheduleModalBtn"
                                class="px-5 py-2 rounded-lg bg-secondary text-white font-semibold hover:bg-blue-600 transition-colors shadow-md">
                                Lưu Phân Công
                            </button>
                        </div>
                    </div>
                </div>

                <script>
                    document.addEventListener('DOMContentLoaded', () => {
                        const modal = document.getElementById('scheduleModal');
                        const openBtn = document.getElementById('openScheduleModalBtn');
                        const closeBtn = document.getElementById('closeScheduleModalBtn');
                        const cancelBtn = document.getElementById('cancelScheduleModalBtn');

                        // Logic cho việc chọn các Thứ
                        const dayToggles = document.querySelectorAll('.day-toggle');
                        const selectedDaysInput = document.getElementById('selectedDays');

                        const handleDayToggle = () => {
                            let selectedDays = [];
                            dayToggles.forEach(btn => {
                                if (btn.classList.contains('bg-secondary')) {
                                    selectedDays.push(btn.getAttribute('data-day'));
                                }
                            });
                            selectedDaysInput.value = selectedDays.join(',');
                        };

                        dayToggles.forEach(btn => {
                            btn.addEventListener('click', () => {
                                btn.classList.toggle('bg-secondary');
                                btn.classList.toggle('text-white');
                                handleDayToggle();
                            });
                        });

                        // Logic Modal (Mở/Đóng)
                        const openModal = () => {
                            modal.classList.remove('hidden');
                        };

                        const closeModal = () => {
                            modal.classList.add('hidden');
                        };

                        openBtn.addEventListener('click', () => openModal());
                        closeBtn.addEventListener('click', closeModal);
                        cancelBtn.addEventListener('click', closeModal);

                        // Thêm logic để mở modal khi click vào nút edit trong bảng
                        document.querySelectorAll('.p-1.rounded-full').forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.stopPropagation();
                                openModal(true);
                            });
                        });
                    });
                </script>

            </main>
        </div>
    </div>
</body>

</html>