<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Quản lý Ca Làm</title>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#10B981", // Màu xanh lá cây (Chính)
                        secondary: "#0D6EFD", // Màu xanh dương (Phụ/Hành động)
                        "background-light": "#F8F9FA",
                        "background-dark": "#121212",
                        "surface-light": "#FFFFFF",
                        "surface-dark": "#1F2937",
                        "text-light-primary": "#212529",
                        "text-light-secondary": "#6C757D",
                        "text-dark-primary": "#F3F4F6",
                        "text-dark-secondary": "#9CA3AF",
                        "border-light": "#E5E7EB",
                        "border-dark": "#374151",
                        "status-success": "#10B981",
                        "status-warning": "#FBBF24",
                        "status-danger": "#F87171",
                        "status-info": "#60A5FA",
                    },
                    fontFamily: {
                        display: ["Be Vietnam Pro", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.4rem",
                        lg: "0.6rem",
                        xl: "0.75rem",
                    },
                    boxShadow: {
                        'custom': '0 2px 4px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.03)',
                        'modal': '0 8px 10px -3px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1)',
                    }
                },
            },
        };
    </script>
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            font-size: 0.875rem;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 20;
            vertical-align: middle;
        }

        .overflow-y-scroll-custom::-webkit-scrollbar {
            width: 6px;
        }

        .overflow-y-scroll-custom::-webkit-scrollbar-thumb {
            background-color: #4B5563;
            border-radius: 3px;
        }

        .overflow-y-scroll-custom::-webkit-scrollbar-track {
            background: #374151;
        }

        :root:not(.dark) .overflow-y-scroll-custom::-webkit-scrollbar-thumb {
            background-color: #D1D5DB;
        }

        :root:not(.dark) .overflow-y-scroll-custom::-webkit-scrollbar-track {
            background: #F3F4F6;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-sm">
    <div class="flex h-screen">
        <aside
            class="flex w-64 flex-col border-r border-border-light dark:border-border-dark bg-card-light dark:bg-card-dark">
            <div class="flex h-full flex-col justify-between p-4">
                <div class="flex flex-col gap-6">
                    <div class="flex items-center gap-3 px-2">
                        <div class="flex items-center justify-center rounded-lg bg-primary/20 p-2 text-primary">
                            <span class="material-symbols-outlined text-2xl">local_parking</span>
                        </div>
                        <h1 class="text-lg font-bold">Parking Admin</h1>
                    </div>
                    <nav class="flex flex-col gap-2">
                        <a class="flex items-center gap-3 rounded-lg  px-3 py-2.5  hover:bg-primary/10 dark:hover:bg-primary/20" href="#">
                            <span class="material-symbols-outlined">dashboard</span>
                            <p class="text-sm font-semibold">Tổng quan</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./CapNhatBaiXe.html">
                            <span class="material-symbols-outlined">garage</span>
                            <p class="text-sm font-medium">Quản lý bãi xe</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./QuanLyNhanVien.html">
                            <span class="material-symbols-outlined">groups</span>
                            <p class="text-sm font-medium">Quản lý nhân viên</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5  text-primary bg-primary/20"
                            href="./QuanLyCaLam.html">
                            <span class="material-symbols-outlined">shift</span>
                            <p class="text-sm font-medium">Quản lý ca làm</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5  hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./QuanLyLichLamViec.html">
                            <span class="material-symbols-outlined">calendar_month</span>
                            <p class="text-sm font-medium">Lịch làm việc</p>
                        </a>
                         <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./QuanLyKhuVuc_ChoDau.html">
                            <span class="material-symbols-outlined">list</span>
                            <p class="text-sm font-medium">Danh mục chỗ đậu</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="./ThongKe.html">
                            <span class="material-symbols-outlined">assessment</span>
                            <p class="text-sm font-medium">Thống kê</p>
                        </a>
                        <a class="flex items-center gap-3 rounded-lg px-3 py-2.5 hover:bg-primary/10 dark:hover:bg-primary/20"
                            href="#">
                            <span class="material-symbols-outlined">settings</span>
                            <p class="text-sm font-medium">Cài đặt</p>
                        </a>
                    </nav>
                </div>
                <div class="flex flex-col gap-1 border-t border-border-light dark:border-border-dark pt-4">
                    <div class="flex items-center gap-3 px-3 py-2">
                        <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
                            data-alt="Admin user avatar"
                            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDSBl77xDRyzdEmA1bqOR8us366h5umMmXmkFUxgpDrNq39j6NpuXlHVoGetK8-SZzQGlIuLxy8mqr7ki1JETuzLoOeljk18F04cc8-qVotv6ZxMn3nuchnPXz1WSbP5r_XBVVIPMh5J0OJYuSuLcT2_ugU5YHbXoAj3wU7oqY0G0P7YWEOWrRN7HsvX3PwcdYQwOu3AEMDQTsWfryfJOwRehe3z7dZKlO0S2EUzKzEouKb9NB73NvcSyWWOv44oFnxK88CgSonrnuT");'>
                        </div>
                        <div class="flex flex-col">
                            <p class="text-sm font-semibold">Admin</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">admin@email.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
        <div class="flex-1 flex flex-col">
            <header
                class="h-14 bg-surface-light dark:bg-surface-dark border-b border-border-light dark:border-border-dark flex items-center justify-end px-4 shadow-sm z-10">
                <div class="flex items-center space-x-3">
                    <button
                        class="p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-text-light-secondary dark:text-text-dark-secondary transition-colors">
                        <span class="material-symbols-outlined text-xl">search</span>
                    </button>
                    <div class="h-5 border-l border-border-light dark:border-border-dark"></div>
                    <button
                        class="relative p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 text-text-light-secondary dark:text-text-dark-secondary transition-colors">
                        <span class="material-symbols-outlined text-xl">notifications</span>
                        <span
                            class="absolute top-0.5 right-0.5 block h-2 w-2 rounded-full bg-red-500 ring-1 ring-surface-light dark:ring-surface-dark"></span>
                    </button>
                    <div
                        class="flex items-center space-x-1 cursor-pointer p-1 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
                        <img alt="Avatar of TinhBaiXe" class="h-8 w-8 rounded-full object-cover"
                            src="https://lh3.googleusercontent.com/aida-public/AB6AXuBc21mxH26fv-wDdQf5VeCcF3UZ5ikPIOoWb1o0C9w-SGZbzBHX7rodtGeIldrS6ftygPxH6W_WuCDvHGyI-D4Ey-aVOHanWhvfEY7i66ZrgN-1fc10ezaoikzhC3ytmq_RK1PJBwDmGzf8_f2zIney0UU5Rf7RFr2rLI9IyK5YTZeftVL_pHumxGOrJCkrQNIgNlJ7boVtG1Qnw_4cUuEvRbZdKMEbwrbCX-knD4WwU4RDcX6B8oI10hrvJggp63NZjIgmrF5mj4Y" />
                        <div>
                            <p class="font-semibold text-xs text-text-light-primary dark:text-text-dark-primary">
                                TinhBaiXe</p>
                            <p class="text-[0.65rem] text-text-light-secondary dark:text-text-dark-secondary">Chủ bãi xe</p>
                        </div>
                        <span class="material-symbols-outlined text-sm ml-1">expand_more</span>
                    </div>
                </div>
            </header>

            <main class="flex-1 p-4 overflow-y-auto relative">
                <div class="bg-surface-light dark:bg-surface-dark p-6 rounded-xl shadow-custom h-full flex flex-col">
                    <div class="flex justify-between items-center mb-5 border-b border-border-light dark:border-border-dark pb-4">
                        <h2 class="text-2xl font-bold text-text-light-primary dark:text-text-dark-primary flex items-center">
                            <span class="material-symbols-outlined mr-2 text-2xl text-primary">schedule</span>
                            Quản lý Danh mục Ca Làm
                        </h2>
                        <button id="openShiftModalBtn"
                            class="bg-primary text-white py-2.5 px-4 rounded-lg flex items-center justify-center font-semibold hover:bg-green-600 transition-colors shadow-md text-sm">
                            <span class="material-symbols-outlined mr-2 text-base">add</span>
                            Thêm Ca Làm Mới
                        </button>
                    </div>

                    <div class="flex-1 overflow-auto overflow-y-scroll-custom">
                        <table class="min-w-full divide-y divide-border-light dark:divide-border-dark">
                            <thead class="bg-background-light dark:bg-surface-dark/50 sticky top-0 shadow-sm">
                                <tr>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider w-16">
                                        ID</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Tên Ca Làm</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Thời Gian Bắt Đầu</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Thời Gian Kết Thúc</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider">
                                        Tổng Thời Gian (Giờ)</th>
                                    <th
                                        class="px-4 py-2 text-left text-xs font-semibold text-text-light-secondary dark:text-text-dark-secondary uppercase tracking-wider w-32">
                                        Hệ Số Lương</th>
                                    <th class="px-4 py-2"></th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-border-light dark:divide-border-dark">

                                <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">C01</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-semibold">Ca Sáng</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">06:00:00</td>
                                     <td class="px-4 py-3 whitespace-nowrap text-sm">12:00:00</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">4 giờ</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-bold text-primary">1.0</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full edit-shift-btn"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                        <button class="text-status-danger hover:text-red-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">delete</span></button>
                                    </td>
                                </tr>

                                <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">C02</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-semibold">Ca Chiều</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">12:00:00</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">18:00:00</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">6 giờ</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-bold text-primary">1.0</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full edit-shift-btn"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                        <button class="text-status-danger hover:text-red-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">delete</span></button>
                                    </td>
                                </tr>
                                 <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">C03</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-semibold ">Ca Tối</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">18:00:00</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">23:00:00</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">5 giờ</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-bold text-red-500">1.2</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full edit-shift-btn"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                        <button class="text-status-danger hover:text-red-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">delete</span></button>
                                    </td>
                                </tr>
                                <tr class="hover:bg-background-light dark:hover:bg-surface-dark/50 cursor-pointer">
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">C03</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-semibold ">Ca Đêm</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">23:00:00</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium">06:00:00</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm">7 giờ</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-sm font-bold text-red-500">1.5</td>
                                    <td class="px-4 py-3 whitespace-nowrap text-right text-sm font-medium">
                                        <button class="text-secondary hover:text-blue-700 p-1 rounded-full edit-shift-btn"><span
                                                class="material-symbols-outlined text-base">edit</span></button>
                                        <button class="text-status-danger hover:text-red-700 p-1 rounded-full"><span
                                                class="material-symbols-outlined text-base">delete</span></button>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="shiftModal"
                    class="hidden fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 z-50 flex items-center justify-center p-4">
                    <div
                        class="bg-surface-light dark:bg-surface-dark w-full max-w-lg rounded-xl shadow-modal overflow-hidden transform transition-all duration-300">
                        <div
                            class="p-5 border-b border-border-light dark:border-border-dark flex justify-between items-center">
                            <h3 id="shiftModalTitle"
                                class="text-xl font-bold text-text-light-primary dark:text-text-dark-primary flex items-center">
                                <span class="material-symbols-outlined mr-2 text-2xl text-primary">schedule_add</span>
                                Thêm Ca Làm Mới
                            </h3>
                            <button id="closeShiftModalBtn"
                                class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-text-light-secondary dark:text-text-dark-secondary">
                                <span class="material-symbols-outlined">close</span>
                            </button>
                        </div>

                        <form class="p-6 space-y-4">
                            <div>
                                <label for="shiftName"
                                    class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Tên
                                    Ca Làm <span class="text-red-500">*</span></label>
                                <input type="text" id="shiftName" name="TenCa"
                                    class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-primary focus:ring-primary transition-colors"
                                    placeholder="Ví dụ: Ca Sáng, Ca Đêm" required>
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="startTime"
                                        class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Thời
                                        Gian Bắt Đầu <span class="text-red-500">*</span></label>
                                    <input type="time" id="startTime" name="TgianBatDau"
                                        class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-surface-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-primary focus:ring-primary transition-colors"
                                        step="1" required>
                                </div>
                                <div>
                                    <label for="endTime"
                                        class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Thời
                                        Gian Kết Thúc <span class="text-red-500">*</span></label>
                                    <input type="time" id="endTime" name="TgianKetThuc"
                                        class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-surface-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-primary focus:ring-primary transition-colors"
                                        step="1" required>
                                </div>
                            </div>

                            <div>
                                <label for="salaryFactor"
                                    class="block text-sm font-medium text-text-light-primary dark:text-text-dark-primary mb-1">Hệ
                                    Số Lương (Base: 1.0) <span class="text-red-500">*</span></label>
                                <input type="number" id="salaryFactor" name="HeSoLuong" min="1.0" step="0.1"
                                    class="w-full px-4 py-2 border border-border-light dark:border-border-dark rounded-lg bg-background-light dark:bg-surface-dark/50 text-text-light-primary dark:text-text-dark-primary focus:border-primary focus:ring-primary transition-colors"
                                    value="1.0" required>
                                <p class="mt-1 text-xs text-text-light-secondary dark:text-text-dark-secondary">
                                    Ví dụ: 1.0 cho ca ngày thường, 1.5 cho ca đêm/lễ Tết.</p>
                            </div>

                        </form>

                        <div
                            class="p-5 border-t border-border-light dark:border-border-dark bg-background-light dark:bg-surface-dark/50 flex justify-end space-x-3">
                            <button id="cancelShiftModalBtn"
                                class="px-5 py-2 rounded-lg text-text-light-secondary dark:text-text-dark-secondary hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors font-medium">
                                Hủy
                            </button>
                            <button id="saveShiftModalBtn"
                                class="px-5 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-green-600 transition-colors shadow-md">
                                Lưu Ca Làm
                            </button>
                        </div>
                    </div>
                </div>

                <script>
                    document.addEventListener('DOMContentLoaded', () => {
                        const modal = document.getElementById('shiftModal');
                        const modalTitle = document.getElementById('shiftModalTitle');
                        const openBtn = document.getElementById('openShiftModalBtn');
                        const closeBtn = document.getElementById('closeShiftModalBtn');
                        const cancelBtn = document.getElementById('cancelShiftModalBtn');
                        const saveBtn = document.getElementById('saveShiftModalBtn');
                        const editBtns = document.querySelectorAll('.edit-shift-btn');

                        const openModal = (isEdit = false) => {
                            if (isEdit) {
                                modalTitle.innerHTML = '<span class="material-symbols-outlined mr-2 text-2xl text-primary">edit</span> Chỉnh Sửa Ca Làm';
                                saveBtn.textContent = 'Cập Nhật';
                            } else {
                                modalTitle.innerHTML = '<span class="material-symbols-outlined mr-2 text-2xl text-primary">schedule_add</span> Thêm Ca Làm Mới';
                                saveBtn.textContent = 'Lưu Ca Làm';
                                // Xóa nội dung form khi thêm mới
                                document.querySelector('#shiftModal form').reset(); 
                            }
                            modal.classList.remove('hidden');
                        };

                        const closeModal = () => {
                            modal.classList.add('hidden');
                        };

                        // Mở Modal khi nhấn nút Thêm Mới
                        openBtn.addEventListener('click', () => openModal(false));
                        
                        // Mở Modal khi nhấn nút Chỉnh Sửa
                        editBtns.forEach(btn => {
                            btn.addEventListener('click', (e) => {
                                e.stopPropagation();
                                // Giả lập load dữ liệu ca làm vào form tại đây
                                openModal(true);
                            });
                        });
                        
                        closeBtn.addEventListener('click', closeModal);
                        cancelBtn.addEventListener('click', closeModal);

                        // Thêm logic xử lý Form submission ở đây
                        saveBtn.addEventListener('click', (e) => {
                            e.preventDefault();
                            // Logic API call để tạo hoặc cập nhật ca làm
                            console.log("Lưu/Cập nhật ca làm...");
                            // closeModal(); // Đóng modal sau khi lưu thành công
                        });
                    });
                </script>

            </main>
        </div>
    </div>
</body>

</html>