<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Chi tiết bãi đỗ & Đặt chỗ - Parking Management</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#00E274",
                        "primary-dark": "#00C966",
                        "background-light": "#F9FAFB",
                        "background-dark": "#111827",
                        "card-light": "#FFFFFF",
                        "card-dark": "#1F2937",
                        "text-light": "#1F2937",
                        "text-dark": "#F3F4F6",
                        "subtext-light": "#6B7280",
                        "subtext-dark": "#9CA3AF",
                    },
                    fontFamily: {
                        display: ["Inter", "system-ui", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                    },
                },
            },
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
    <style>
        body { font-family: 'Inter', sans-serif; }
        /* Hiệu ứng chọn chỗ */
        .parking-spot { transition: all 0.2s; user-select: none; }
        .parking-spot.available:hover { transform: scale(1.05); }
        .parking-spot.selected { background-color: #00E274; border-color: #00E274; color: white; transform: scale(1.05); box-shadow: 0 4px 6px -1px rgba(0, 226, 116, 0.4); }
        .parking-spot.booked { background-color: #E5E7EB; border-color: #D1D5DB; color: #9CA3AF; cursor: not-allowed; }
        .dark .parking-spot.booked { background-color: #374151; border-color: #4B5563; color: #6B7280; }
        .parking-spot.available { background-color: #ECFDF5; border-color: #00E274; color: #00E274; cursor: pointer; }
        .dark .parking-spot.available { background-color: rgba(0, 226, 116, 0.1); border-color: #00E274; color: #00E274; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark font-display min-h-screen flex flex-col transition-colors duration-200">

    <header class="bg-card-light dark:bg-card-dark border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50">
        <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="text-primary font-bold text-3xl">P</span>
                <span class="font-bold text-lg text-text-light dark:text-text-dark">Parking Management</span>
            </div>
            <nav class="hidden md:flex items-center gap-8">
                <a class="text-sm font-medium text-subtext-light dark:text-subtext-dark hover:text-primary dark:hover:text-primary transition-colors" href="#">Dashboard</a>
                <a class="text-sm font-medium text-subtext-light dark:text-subtext-dark hover:text-primary dark:hover:text-primary transition-colors" href="#">Đăng Kí thẻ tháng</a>
                <a class="text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary text-sm font-medium leading-normal" href="DanhGia.html">Đánh Giá</a>
            </nav>
            <div class="flex items-center gap-4">
                <div class="h-8 w-8 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden border border-gray-300 dark:border-gray-600">
                    <img alt="User Avatar" class="h-full w-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDwjWTl2KRPAMOFhB9iTQ5SxyUbYBDjw6JId-QGkWKklxZiSO1DCrm2e8e9UHxL6hc-eKjvUj6uPXqU2EmA6ej944qRr_pMF-SCTsmj7dxqL0V3JsVbPrxby0wnNIrnhUx9VsvtH7cW1AHKEJ8mUszADbiVjw66TFpnWVhdcJzYROPA0Gp_1UBvba021j1q8L1haAjDdHeDF_i8_NYHnx8KkZC2LUDiWD4JMz4guGspDyO3V8FvcC9JsEPtsZLZ_RuyMNZFhz--sjF6"/>
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 max-w-screen-2xl mx-auto w-full">
        <aside class="w-64 bg-card-light dark:bg-card-dark border-r border-gray-200 dark:border-gray-700 hidden lg:flex flex-col py-6 px-4 h-[calc(100vh-4rem)] sticky top-16 overflow-y-auto">
            <div class="mb-8 flex items-center gap-3 px-2">
                <div class="h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden">
                    <img alt="Profile" class="h-full w-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDwjWTl2KRPAMOFhB9iTQ5SxyUbYBDjw6JId-QGkWKklxZiSO1DCrm2e8e9UHxL6hc-eKjvUj6uPXqU2EmA6ej944qRr_pMF-SCTsmj7dxqL0V3JsVbPrxby0wnNIrnhUx9VsvtH7cW1AHKEJ8mUszADbiVjw66TFpnWVhdcJzYROPA0Gp_1UBvba021j1q8L1haAjDdHeDF_i8_NYHnx8KkZC2LUDiWD4JMz4guGspDyO3V8FvcC9JsEPtsZLZ_RuyMNZFhz--sjF6"/>
                </div>
                <div>
                    <p class="text-sm font-semibold text-text-light dark:text-text-dark">Nguyễn Văn A</p>
                    <p class="text-xs text-subtext-light dark:text-subtext-dark">khachhang@email.com</p>
                </div>
            </div>
            <nav class="flex-1 space-y-1">
                <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 rounded-lg transition-colors group" href="TrangChu.html">
                    <span class="material-symbols-outlined text-[20px]">home</span>
                    Trang chủ
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium bg-primary/20 text-primary dark:text-primary rounded-lg transition-colors group" href="#">
                    <span class="material-symbols-outlined text-[20px]">confirmation_number</span>
                    Đặt chỗ
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 rounded-lg transition-colors group" href="LichSuGuiXe.html">
                    <span class="material-symbols-outlined text-[20px]">history</span>
                    Lịch sử
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 rounded-lg transition-colors group" href="ThemPhuongTien.html">
                    <span class="material-symbols-outlined text-[20px]">directions_car</span>
                    Phương tiện
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 rounded-lg transition-colors group" href="XemTheThang.html">
                    <span class="material-icons-outlined text-[20px]">credit_card</span>
                    Thẻ tháng của tôi
                </a>
                 <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 rounded-lg transition-colors group" href="#">
                    <span class="material-symbols-outlined text-[20px]">account_circle</span>
                    Tài khoản
                </a>
            </nav>

            <div class="mt-auto pt-6 border-t border-gray-200 dark:border-gray-800 space-y-1">
                <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 rounded-lg transition-colors group" href="#">
                    <span class="material-symbols-outlined text-[20px]">settings</span>
                    Cài đặt
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-lg transition-colors group" href="#">
                    <span class="material-symbols-outlined text-[20px]">logout</span>
                    Đăng xuất
                </a>
            </div>
        </aside>

        <main class="flex-1 p-6 lg:p-10 bg-background-light dark:bg-background-dark overflow-y-auto">
            
            <nav class="flex items-center text-sm text-subtext-light dark:text-subtext-dark mb-6">
                <a class="hover:text-primary dark:hover:text-primary" href="#">Trang chủ</a>
                <span class="mx-2">/</span>
                <a class="hover:text-primary dark:hover:text-primary" href="#">Tìm bãi đỗ</a>
                <span class="mx-2">/</span>
                <span class="text-text-light dark:text-text-dark font-medium">Chi tiết bãi đỗ</span>
            </nav>

            <div class="flex flex-wrap justify-between items-end gap-4 mb-8">
                <div>
                    <h1 class="text-3xl font-bold text-text-light dark:text-text-dark mb-1">Bãi đỗ xe Vincom Center</h1>
                    <div class="flex items-center gap-2 text-subtext-light dark:text-subtext-dark">
                        <span class="material-icons-outlined text-sm">location_on</span>
                        <span>72 Lê Thánh Tôn, Bến Nghé, Quận 1, TP.HCM</span>
                    </div>
                </div>
                <button class="flex items-center gap-2 px-4 py-2 rounded-lg bg-white dark:bg-card-dark border border-gray-300 dark:border-gray-600 text-text-light dark:text-text-dark hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm font-medium">
                    <span class="material-icons-outlined text-[18px]">arrow_back</span>
                    Quay lại
                </button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                
                <div class="lg:col-span-2">
                    <div class="bg-card-light dark:bg-card-dark rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-bold text-text-light dark:text-text-dark flex items-center gap-2">
                                <span class="material-icons-outlined text-primary">map</span>
                                Sơ đồ vị trí
                            </h2>
                            <div class="flex gap-4 text-xs font-medium">
                                <div class="flex items-center gap-1.5">
                                    <div class="w-3 h-3 rounded-sm bg-[#ECFDF5] border border-primary"></div>
                                    <span class="text-subtext-light dark:text-subtext-dark">Còn trống</span>
                                </div>
                                <div class="flex items-center gap-1.5">
                                    <div class="w-3 h-3 rounded-sm bg-primary border border-primary"></div>
                                    <span class="text-subtext-light dark:text-subtext-dark">Đang chọn</span>
                                </div>
                                <div class="flex items-center gap-1.5">
                                    <div class="w-3 h-3 rounded-sm bg-gray-200 border border-gray-300"></div>
                                    <span class="text-subtext-light dark:text-subtext-dark">Đã đặt</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-50 dark:bg-gray-800/50 p-6 rounded-xl border border-dashed border-gray-200 dark:border-gray-700">
                            <div class="grid grid-cols-8 gap-3 max-w-2xl mx-auto" id="parkingGrid">
                                <div class="col-span-8 flex items-center justify-center py-2 mb-2 bg-gray-200/50 dark:bg-gray-700/50 rounded text-xs font-bold text-subtext-light dark:text-subtext-dark tracking-widest">
                                    LỐI ĐI CHÍNH
                                </div>
                                
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'A01')">A01</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'A02')">A02</div>
                                <div class="parking-spot booked aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm">A03</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'A04')">A04</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'A05')">A05</div>
                                <div class="parking-spot booked aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm">A06</div>
                                <div class="parking-spot booked aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm">A07</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'A08')">A08</div>

                                <div class="col-span-8 h-4"></div>

                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'B01')">B01</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'B02')">B02</div>
                                <div class="parking-spot booked aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm">B03</div>
                                <div class="parking-spot booked aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm">B04</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'B05')">B05</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'B06')">B06</div>
                                <div class="parking-spot booked aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm">B07</div>
                                <div class="parking-spot available aspect-[2/3] border rounded-md flex items-center justify-center font-bold text-sm" onclick="selectSpot(this, 'B08')">B08</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-1">
                    <div class="bg-card-light dark:bg-card-dark rounded-xl border border-gray-200 dark:border-gray-700 p-6 shadow-lg sticky top-24">
                        <h3 class="text-lg font-bold text-text-light dark:text-text-dark mb-6">Thông tin đặt chỗ</h3>
                        
                        <form class="space-y-4">
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs font-medium text-subtext-light dark:text-subtext-dark mb-1">Giờ vào</label>
                                    <input type="datetime-local" class="w-full px-3 py-2 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-text-light dark:text-text-dark focus:ring-primary focus:border-primary">
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-subtext-light dark:text-subtext-dark mb-1">Giờ ra (Dự kiến)</label>
                                    <input type="datetime-local" class="w-full px-3 py-2 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-text-light dark:text-text-dark focus:ring-primary focus:border-primary">
                                </div>
                            </div>

                            <div>
                                <label class="block text-xs font-medium text-subtext-light dark:text-subtext-dark mb-1">Biển số xe phương tiện</label>
                                <select class="w-full px-3 py-2 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-text-light dark:text-text-dark focus:ring-primary focus:border-primary">
                                    <option>51G-123.45</option>
                                    <option>30A-999.99</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-xs font-medium text-subtext-light dark:text-subtext-dark mb-1">Mã ưu đãi</label>
                                <div class="flex gap-2">
                                    <input type="text" placeholder="Nhập mã" class="flex-1 px-3 py-2 bg-background-light dark:bg-background-dark border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-text-light dark:text-text-dark focus:ring-primary focus:border-primary">
                                    <button type="button" class="px-3 py-2 bg-gray-200 dark:bg-gray-700 text-text-light dark:text-text-dark text-sm font-medium rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600">Áp dụng</button>
                                </div>
                            </div>

                            <div class="pt-4 mt-4 border-t border-dashed border-gray-200 dark:border-gray-700 space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span class="text-subtext-light dark:text-subtext-dark">Vị trí</span>
                                    <span class="font-bold text-primary" id="selectedSpotDisplay">Chưa chọn</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-subtext-light dark:text-subtext-dark">Thời gian</span>
                                    <span class="font-medium text-text-light dark:text-text-dark">2 giờ</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-subtext-light dark:text-subtext-dark">Đơn giá</span>
                                    <span class="font-medium text-text-light dark:text-text-dark">20.000đ/h</span>
                                </div>
                                <div class="flex justify-between items-end pt-2">
                                    <span class="font-bold text-text-light dark:text-text-dark">Tổng cộng</span>
                                    <span class="text-xl font-bold text-primary">40.000đ</span>
                                </div>
                            </div>

                            <button type="button" id="confirmBtn" class="w-full flex items-center justify-center gap-2 py-3 px-4 bg-gray-300 dark:bg-gray-700 text-gray-500 font-bold rounded-lg transition-all cursor-not-allowed" disabled onclick="window.location.href='ThanhToanDatCho.html'">
                                Xác nhận đặt chỗ
                                <span class="material-icons-outlined text-lg">arrow_forward</span>
                            </button>
                        </form>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script>
        let currentSpot = null;

        function selectSpot(element, spotId) {
            // Nếu click vào ô đã chọn -> Bỏ chọn
            if (currentSpot === element) {
                element.classList.remove('selected');
                element.classList.add('available');
                currentSpot = null;
                updateDisplay(null);
                return;
            }

            // Bỏ chọn ô cũ (nếu có)
            if (currentSpot) {
                currentSpot.classList.remove('selected');
                currentSpot.classList.add('available');
            }

            // Chọn ô mới
            element.classList.remove('available');
            element.classList.add('selected');
            currentSpot = element;
            updateDisplay(spotId);
        }

        function updateDisplay(spotId) {
            const display = document.getElementById('selectedSpotDisplay');
            const btn = document.getElementById('confirmBtn');

            if (spotId) {
                display.innerText = spotId;
                // Enable button
                btn.disabled = false;
                btn.classList.remove('bg-gray-300', 'dark:bg-gray-700', 'text-gray-500', 'cursor-not-allowed');
                btn.classList.add('bg-primary', 'hover:bg-primary-dark', 'text-white', 'shadow-lg', 'shadow-primary/30', 'hover:-translate-y-0.5');
            } else {
                display.innerText = 'Chưa chọn';
                // Disable button
                btn.disabled = true;
                btn.classList.add('bg-gray-300', 'dark:bg-gray-700', 'text-gray-500', 'cursor-not-allowed');
                btn.classList.remove('bg-primary', 'hover:bg-primary-dark', 'text-white', 'shadow-lg', 'shadow-primary/30', 'hover:-translate-y-0.5');
            }
        }
    </script>
</body>
</html>